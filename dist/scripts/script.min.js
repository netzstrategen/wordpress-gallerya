!function(e){e(document).ready(function(){function i(){var i=e(".woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),t=i.children("div");if(!(t.length<=1)){var a=t.first();a.hasClass("has-video")&&a.detach().insertAfter(i.children("div").first())}}function t(){var i=e(".woocommerce-product-gallery .gallerya__video-content").first();if(!(i.length<1)){var t=i.data("video-thumb"),a=e(".flex-control-nav li img"),l=a.length>1?1:0,r=a.eq(l);r.attr("src")!==t&&(a.first().attr("src",r.attr("src")),r.attr("src",t).attr("data-lazy-src",t).parent().addClass("slider-thumb-video"))}}function a(i){var t=e(".woocommerce-product-gallery .woocommerce-product-gallery__image").eq(i);if(e(t).hasClass("has-video")){var a=e(t).find("iframe").first();a.attr("src")||a.attr("src",e(t).data("video-url"))}}function l(e){e.hiddenSlides&&(e.find("li").show(),e.flickity("reposition"),e.flickity("selectCell",0),e.hiddenSlides=0)}if(e(".js-gallerya-slider").length>0&&"function"==typeof e.fn.flickity){var r="M85,50.36033a2.72075,2.72075,0,0,0-2.74945-2.68906H24.01177L47.61119,24.59022a2.65667,2.65667,0,0,0,0-3.80232,2.79411,2.79411,0,0,0-3.88955,0L15.80559,48.09077a2.64614,2.64614,0,0,0,0,3.80232L43.729,79.21211a2.79185,2.79185,0,0,0,3.88771,0,2.64613,2.64613,0,0,0,0-3.80233L24.756,53.04939h57.4946A2.72075,2.72075,0,0,0,85,50.36033Z";e(".js-gallerya-slider").each(function(i,t){var a=e(this).closest(".gallerya--slider, .gallerya--product-variation-slider"),l=a.data("gallerya-navigation"),n=a.data("galleryaPageDots"),o=a.find(".js-gallerya-thumbnail-slider"),s=a.find("[data-gallerya-count]"),d={cellAlign:"left",contain:!0,wrapAround:!0,imagesLoaded:!0,watchCSS:!0,lazyLoad:!0};a.hasClass("gallerya--product-variation-slider")||(d.arrowShape=r),"undefined"!=typeof n?d.pageDots=1==n:("undefined"==typeof l||0==l||o.length>0)&&(d.pageDots=!1),e(this).addClass("flickity"),e(this).flickity(d);var c=e(this).data("flickity");if(o.length>0){var f={asNavFor:t,contain:!0,pageDots:!1,imagesLoaded:!0,groupCells:!0,arrowShape:r};o.flickity(f),e(this).on("select.flickity",function(){var e=c.selectedIndex,i="is-currently-selected";o.find(".flickity-slider li").removeClass(i).eq(e).addClass(i)})}s&&e(this).on("select.flickity",function(){var e=c.selectedIndex+1;s.text(e+"/"+c.slides.length)})}),e(".woocommerce-loop-product__link").on("click",function(i){if(0!==e(i.target).closest(".flickity-prev-next-button").length)return event.stopPropagation(),!1})}if(e(".js-gallerya-product-thumbnail-slider").length>0&&"function"==typeof e.fn.flickity){var n=e(".js-gallerya-product-thumbnail-slider").parent().find(".flex-control-thumbs").first();if(!n.length)return;var o={contain:!0,pageDots:!1,imagesLoaded:!0,groupCells:!0},s=parseInt(getComputedStyle(n.get(0)).getPropertyValue("--thumbnail-spacing-unit"),10),d=parseInt(getComputedStyle(n.get(0)).getPropertyValue("--thumbnail-slider-margin"),10),c=n.find("li").first().width(),f=n.width(),u=7,g=4;if(c>0&&f>c){for(;(f-2*d-s*g)/(g+1)>=c&&(g++,g!==u););n.get(0).style.setProperty("--thumbnail-count",g)}var h=n.find("li").length;o.prevNextButtons=h>g,n.addClass("flickity").on("ready.flickity",function(){i()}).on("settle.flickity",function(){t()}).on("staticClick.flickity",function(i,t,l,r){e(l).hasClass("slider-thumb-video")&&a(r)});var y=n.flickity(o),p=e(".single_variation_wrap");n.hiddenSlides=0;var v=e(".woocommerce-product-gallery").data("flexslider");v&&y.on("mouseover","li",function(i){v.flexslider(e(i.currentTarget).index())}),p.on("show_variation",function(i,t){l(n);var a=(product_variation_images.gallery,product_variation_images[t.variation_id]);a.length>1&&(n.find("img").each(function(){var i=e(this),t=i.attr("src");a.includes(t)||(i.parent().hide(),n.hiddenSlides++)}),n.hiddenSlides&&n.flickity("reposition"));var r=n.find('img[src="'+t.image.gallery_thumbnail_src+'"]').parent().index();n.flickity("selectCell",r)}),p.on("hide_variation",function(e){n.hiddenSlides&&(l(n),n.hiddenSlides=0)})}else i(),t(),e(".single-product-summary .flex-control-nav li").on("click",function(){var i=e(this);i.hasClass("slider-thumb-video")&&a(i.index())})})}(jQuery);
//# sourceMappingURL=script.min.js.map
