!function(e){e(document).ready(function(){function t(){var t=e(".woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),i=t.children("div");if(!(i.length<=1)){var a=i.first();a.hasClass("has-video")&&a.detach().insertAfter(t.children("div").first())}}function i(){var t=e(".woocommerce-product-gallery .gallerya__video-content").first();if(!(t.length<1)){var i=t.data("video-thumb"),a=e(".flex-control-nav li img"),l=a.length>1?1:0,r=a.eq(l);r.attr("src")!==i&&(a.first().attr("src",r.attr("src")),r.attr("src",i).attr("data-lazy-src",i).parent().addClass("slider-thumb-video"))}}function a(t){var i=e(".woocommerce-product-gallery .woocommerce-product-gallery__image").eq(t);if(e(i).hasClass("has-video")){var a=e(i).find("iframe").first();a.attr("src")||a.attr("src",e(i).data("video-url"))}}function l(e){e.hiddenSlides&&(e.find("li").show(),e.flickity("reposition"),e.flickity("selectCell",0),e.hiddenSlides=0)}if(e(".js-gallerya-slider").length>0&&"function"==typeof e.fn.flickity){var r="M85,50.36033a2.72075,2.72075,0,0,0-2.74945-2.68906H24.01177L47.61119,24.59022a2.65667,2.65667,0,0,0,0-3.80232,2.79411,2.79411,0,0,0-3.88955,0L15.80559,48.09077a2.64614,2.64614,0,0,0,0,3.80232L43.729,79.21211a2.79185,2.79185,0,0,0,3.88771,0,2.64613,2.64613,0,0,0,0-3.80233L24.756,53.04939h57.4946A2.72075,2.72075,0,0,0,85,50.36033Z";e(".js-gallerya-slider").each(function(t,i){var a=e(this).closest(".gallerya--slider, .gallerya--product-variation-slider"),l=a.data("gallerya-navigation"),o=a.data("galleryaPageDots"),n=a.find(".js-gallerya-thumbnail-slider"),s=a.find("[data-gallerya-count]"),c={cellAlign:"left",contain:!0,wrapAround:!0,imagesLoaded:!0,watchCSS:!0,lazyLoad:!0};a.hasClass("gallerya--product-variation-slider")||(c.arrowShape=r),"undefined"!=typeof o?c.pageDots=1==o:("undefined"==typeof l||0==l||n.length>0)&&(c.pageDots=!1),e(this).addClass("flickity"),e(this).flickity(c);var d=e(this).data("flickity");if(n.length>0){var f={asNavFor:i,contain:!0,pageDots:!1,imagesLoaded:!0,groupCells:!0,arrowShape:r};n.flickity(f),e(this).on("select.flickity",function(){var e=d.selectedIndex,t="is-currently-selected";n.find(".flickity-slider li").removeClass(t).eq(e).addClass(t)})}s&&e(this).on("select.flickity",function(){var e=d.selectedIndex+1;s.text(e+"/"+d.slides.length)})}),e(".woocommerce-loop-product__link").on("click",function(t){if(0!==e(t.target).closest(".flickity-prev-next-button").length)return event.stopPropagation(),!1})}if("function"==typeof e.fn.lightGallery&&(e(".js-gallerya-lightbox").lightGallery({thumbnail:!0,showThumbByDefault:!1,subHtmlSelectorRelative:!0,selector:".gallerya__image > a"}),e(".woocommerce-product-gallery").lightGallery({thumbnail:!0,showThumbByDefault:!1,subHtmlSelectorRelative:!0,selector:".woocommerce-product-gallery__image > a"})),e(".js-gallerya-product-thumbnail-slider").length>0&&"function"==typeof e.fn.flickity){var o=e(".js-gallerya-product-thumbnail-slider").parent().find(".flex-control-thumbs").first();if(!o.length)return;var n={contain:!0,pageDots:!1,imagesLoaded:!0,groupCells:!0},s=parseInt(getComputedStyle(o.get(0)).getPropertyValue("--thumbnail-spacing-unit"),10),c=parseInt(getComputedStyle(o.get(0)).getPropertyValue("--thumbnail-slider-margin"),10),d=o.find("li").first().width(),f=o.width(),u=7,g=4;if(d>0&&f>d){for(;(f-2*c-s*g)/(g+1)>=d&&(g++,g!==u););o.get(0).style.setProperty("--thumbnail-count",g)}o.addClass("flickity").on("ready.flickity",function(){t()}).on("settle.flickity",function(){i()}).on("staticClick.flickity",function(t,i,l,r){e(l).hasClass("slider-thumb-video")&&a(r)});var h=o.flickity(n),y=e(".single_variation_wrap");o.hiddenSlides=0;var m=e(".woocommerce-product-gallery").data("flexslider");m&&h.on("mouseover","li",function(t){m.flexslider(e(t.currentTarget).index())}),y.on("show_variation",function(t,i){l(o);var a=(product_variation_images.gallery,product_variation_images[i.variation_id]);a.length>1&&(o.find("img").each(function(){var t=e(this),i=t.attr("src");a.includes(i)||(t.parent().hide(),o.hiddenSlides++)}),o.hiddenSlides&&o.flickity("reposition"));var r=o.find('img[src="'+i.image.gallery_thumbnail_src+'"]').parent().index();o.flickity("selectCell",r)}),y.on("hide_variation",function(e){o.hiddenSlides&&(l(o),o.hiddenSlides=0)})}else t(),i(),e(".single-product-summary .flex-control-nav li").on("click",function(){var t=e(this);t.hasClass("slider-thumb-video")&&a(t.index())});e(".variations_form").on("woocommerce_variation_has_changed",function(){var t=e(".woocommerce-product-gallery__image img").eq(0);t.length&&t.parents("[data-srcset]").attr("data-srcset",t.attr("srcset"))})})}(jQuery);
//# sourceMappingURL=script.min.js.map
